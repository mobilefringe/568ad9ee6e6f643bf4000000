<style>
  #newsletter{opacity:1;}
  .form-error{
      margin-top: -35px;
  }
  .help-block{
      margin-bottom:15px;
  }
  .custom_control{margin-bottom: 40px;}
</style>
<section id="signup" class="">
    <div class="main_container">
        <h3 class="text-center heading">Retail Maverick Registration</h3>
        <p class="desc text-center">
            Register now and you can get one month of Retail Maverick for free!
            <br/>
            Get your time back and grow your digital reach.
        </p>
        <div class="row">
            <div class="col-md-8 center_align">
                <form action="" method="post" id="signup_form">
                    <div class="row">
                        <div class="col-md-6">
                            <label class="custom_label" for="full_name">Full Name</label>
                            <input type="text" name="name" id="full_name" class="form-control custom_control" required data-validation="required" />
                        </div>
                        <div class="col-md-6">
                            <label class="custom_label" for="phone">Phone Number</label>
                            <input type="text" name="phone" id="phone" class="form-control custom_control" required required data-validation="length  number" data-validation-allowing="integer" data-validation-length="10-15" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <label class="custom_label" for="email">Email</label>
                            <input data-validation-error-msg="The input value is incorrect email address" data-validation="custom" data-validation-regexp="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" type="email" name="email" id="email" class="form-control custom_control" required />
                        </div>
                        <div class="col-md-6">
                            <label class="custom_label" for="retailer">Retailer / Brand</label>
                            <input type="text" name="retailer" id="retailer" class="form-control custom_control" required data-validation="required" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                             <label class="custom_label" for="position">Position</label>
                           <input type="text" name="position" id="position" class="form-control custom_control" required data-validation="required" />
                        </div>
                        <div class="col-md-6">
                             <label class="custom_label" for="num_outlets">Number of Outlets/Stores</label>
                           <input type="text" name="num_outlets" id="num_outlets" class="form-control custom_control" required data-validation="number" data-validation-allowing="integer" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                             <p>By selecting "Register" you understand and agree to the Retail Maverick <a href="/terms_of_use" id="terms_conditions">Terms of Use</a></p><br />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 text-center">
                            <input type="submit" value="Register" class="send_btn" />
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
<br />

<script>
    $(document).ready(function(e){
        init();
        $.validate();
        $('#signup_form').submit(function(e){
            $('.send_btn').prop('disabled', true);
            e.preventDefault();
            var post_data = {}
            post_data.mailto = "info@retailmaverick.com";
            post_data.subject = "RM Sign up";
            custom = {};
            custom.name = $('#full_name').val();
            custom.email = $('#email').val()
            custom.phone = $('#phone').val();
            custom.retailer = $('#retailer').val();
            custom.position = $('#position').val();
            custom.outlets = $('#num_outlets').val();
            post_data.custom = custom;
            $.post("http://home.mallmaverick.com/custom_email", post_data, function(data, status, xhr){
                $.getJSON(
                    "https://mobilefringe.createsend.com/t/d/s/maltd/?callback=?",
                    "cm-maltd-maltd=" + $('#email').val(),
                    function (data) {
                        if (data.Status === 400) {
                            alert("Unable to process your request. Please try again later.");
                        } else { // 200
                            window.location = "/registration_confirmed";
                        }
                });
            });
        });
        
    });
    
</script>
